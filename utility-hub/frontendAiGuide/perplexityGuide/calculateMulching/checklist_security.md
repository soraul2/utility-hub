# checklist_security.md – Utility Hub v0.2

본 체크리스트는 Utility Hub v0.2 (뽀모도로 타이머, 농업용 멀칭 비닐 계산기, 텍스트→Markdown 변환기)의
입력값 검증, UI 가시성, 프론트엔드 보안 기본 사항을 점검하기 위한 문서이다.

---

## 1. 입력값 검증 (Validation)

### 1.1 공통 규칙
- [ ] 모든 사용자 입력 필드는 타입/범위가 명확히 정의되어 있다.
- [ ] 빈 값, 잘못된 형식, 극단적인 값에 대한 처리(에러 메시지 또는 기본값 적용)가 있다.[web:171][web:168]
- [ ] 숫자 입력 필드는 숫자 이외의 문자를 허용하지 않거나 적절히 필터링한다.
- [ ] 에러 메시지는 한국어로 짧고 명확하게 설명한다.

### 1.2 멀칭 비닐 계산기
- [ ] `발의 면적(평)`은 0보다 큰 값만 허용한다.
- [ ] `비닐 폭(cm)`과 `비닐 길이(m)`는 0보다 큰 값만 허용한다.
- [ ] `롤당 가격(원)`은 0 이상 숫자만 허용한다.
- [ ] 입력값이 유효하지 않을 때는 결과 영역을 업데이트하지 않고, 에러 메시지를 표시한다.
- [ ] 계산식은 설계서의 공식(평 → ㎡, 폭/길이 → ㎡당 면적, 롤 수, 금액)과 일치한다.

### 1.3 뽀모도로 타이머
- [ ] 집중/휴식 시간(분)은 1~180 범위 내로 제한한다.
- [ ] 세트 수는 1~20 범위 내로 제한한다.
- [ ] 잘못된 설정값 입력 시 타이머 시작이 차단되거나 기본값으로 되돌린다.
- [ ] 상태 전환 로직(집중 → 짧은 휴식/긴 휴식 → 다음 집중)이 설계서와 테스트로 검증되어 있다.

### 1.4 텍스트 → Markdown 변환기
- [ ] 텍스트 입력이 비어 있을 때 변환 버튼을 비활성화하거나 경고를 표시한다.
- [ ] 변환 옵션(자동 헤더/리스트/코드 블록)은 boolean 상태로 명확히 관리된다.
- [ ] .md 파일 다운로드 시, 입력 텍스트 외에 불필요한 메타/민감 정보가 포함되지 않는다.

---

## 2. 에러 처리 & 피드백 (Error Handling & Feedback)

- [ ] 잘못된 입력 시, 해당 `GlassInput` 아래에 빨간색 작은 오류 문구가 표시된다.
- [ ] 에러 상태에서는 입력 필드 테두리 색이 변경되는 등 시각적 피드백이 있다.
- [ ] 예상치 못한 예외(런타임 오류 등)는 콘솔에만 상세 로그를 남기고,
      사용자에게는 일반적인 안내 메시지만 표시한다.[web:161]
- [ ] 에러 메시지에 내부 스택 트레이스나 구현 세부 정보가 노출되지 않는다.

---

## 3. 라이트/다크 모드 & 접근성 (Theme & Accessibility)

- [ ] `theme = "light" | "dark"` 전역 상태가 정상적으로 저장·복원된다.
- [ ] 라이트/다크 모드에서 텍스트와 배경의 대비가 WCAG 권장 기준(본문 4.5:1 이상)을 만족한다.[web:163][web:166]
- [ ] 다크 모드에서:
  - [ ] 입력 필드/텍스트 영역 배경과 텍스트 색이 충분히 대비된다 (`dark:bg-*`, `dark:text-*` 적용).
  - [ ] 버튼, 토글, 링크 등 인터랙티브 요소의 hover/focus 상태가 명확히 구분된다.[web:169]
- [ ] Glassmorphism 효과 사용 시, 투명도/블러 때문에 텍스트 가독성이 떨어지지 않는다.[web:137][web:152]

---

## 4. 데이터 저장 & 프라이버시 (Storage & Privacy)

- [ ] 로컬스토리지/세션스토리지에는 다음 정도의 비민감 정보만 저장한다:
  - [ ] 테마 설정 (`theme`)
  - [ ] 각 도구의 최근 입력값 또는 최근 계산 기록
- [ ] 저장된 값이 파싱 실패/형식 오류일 때는 안전한 기본값으로 되돌린다.
- [ ] 사용자 계정, 토큰, API 키, 비밀번호 등 민감 정보는 어떤 클라이언트 코드/스토리지에도 존재하지 않는다.[web:161]

---

## 5. 의존성 & 빌드 (Dependencies & Build)

- [ ] Vite, React, Tailwind 및 기타 라이브러리는 최신 안정 버전으로 유지된다.
- [ ] `npm audit` 또는 동등한 도구로 의존성 취약점 점검을 수행했다.[web:161]
- [ ] 사용하지 않는 데모용 스크립트/스타일은 번들에서 제거하여 공격 표면을 줄였다.
- [ ] 프로덕션 빌드는 `npm run build`로 성공적으로 생성되며, 콘솔 경고/에러가 없다.

---

## 6. 기능별 추가 체크

### 6.1 멀칭 비닐 계산기
- [ ] 최근 5건 기록 기능이 브라우저 로컬 저장소에만 기록되고, 민감 정보를 포함하지 않는다.
- [ ] 기록 삭제 또는 초기화 기능이 제공되며, 동작이 사용자에게 명확히 전달된다.

### 6.2 텍스트 → Markdown 변환기
- [ ] “복사하기” 버튼은 사용자의 클릭에 대해서만 동작하며, 자동 실행되지 않는다.
- [ ] 다운로드되는 `.md` 파일 이름/경로에 사용자의 민감 정보가 포함되지 않는다.

### 6.3 뽀모도로 타이머
- [ ] 타이머가 백그라운드 탭/슬립 상태에서도 과도하게 CPU를 사용하지 않는다.
- [ ] (선택) 오디오 알림 사용 시, 브라우저 권한 정책을 준수하며 과도한 자동 재생을 하지 않는다.

---

## 7. 최종 검토 절차

- [ ] 위 항목을 기준으로 Perplexity가 v0.2 코드를 리뷰했다.
- [ ] 발견된 이슈는 `walkthrough.md` 또는 이슈 트래커에 기록했다.
- [ ] 재발 방지를 위해 본 체크리스트 및 `collaborations_rule.md`, `design_spec.md`를 필요에 따라 업데이트했다.
